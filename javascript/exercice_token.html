<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Exercice Token JS</title>
</head>
<body>
  <h1>Connexion</h1>
  <input type="text" id="username" placeholder="Nom d'utilisateur">
  <input type="password" id="password" placeholder="Mot de passe">
  <button onclick="login()">Se connecter</button>

  <h2>Zone prot√©g√©e</h2>
  <button onclick="accessProtectedData()">Acc√©der aux donn√©es</button>
  <button onclick="logout()">R√©voquer le token</button>
  <p id="result"></p>

  <script>
    function login() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;

      if (user === "admin" && pass === "1234") {
        const token = generateToken();
        localStorage.setItem("authToken", token);
        alert("Connexion r√©ussie ! Token g√©n√©r√© et stock√©.");
      } else {
        alert("Identifiants invalides.");
      }
    }

    function generateToken() {
      return Math.random().toString(36).substring(2) + Date.now().toString(36);
    }

    function accessProtectedData() {
      const token = localStorage.getItem("authToken");

      if (token) {
        document.getElementById("result").textContent =
          "‚úÖ Donn√©es secr√®tes : Voici le contenu prot√©g√© !";
      } else {
        document.getElementById("result").textContent =
          "‚ùå Acc√®s refus√©. Veuillez vous connecter.";
      }
    }

    function logout() {
      localStorage.removeItem("authToken");
      document.getElementById("result").textContent =
        "üîì Token r√©voqu√©. Vous √™tes d√©connect√©.";
      alert("D√©connexion effectu√©e. Le token a √©t√© supprim√©.");
    }
  </script>
</body>
</html>
